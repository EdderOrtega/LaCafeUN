@{
    ViewData["Title"] = "DiagnÃ³stico del Sistema";
}

<div class="container-cafeteria fade-in">
    <h1 class="titulo-seccion">ğŸ” DiagnÃ³stico del Sistema</h1>
    
    @if (TempData["Mensaje"] != null)
    {
        <div class="alert alert-success alert-dismissible fade show">
            <strong>âœ… Ã‰xito!</strong><br/>
            @TempData["Mensaje"]
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    }
    
    @if (TempData["Error"] != null)
    {
        <div class="alert alert-danger alert-dismissible fade show">
            <strong>âŒ Error!</strong><br/>
            @TempData["Error"]
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    }
    
    <div class="form-container">
        <h3 class="subtitulo">ğŸ“Š Resultados del DiagnÃ³stico</h3>
        <pre style="background: #f8f9fa; padding: 20px; border-radius: 10px; overflow-x: auto;">@ViewBag.Diagnostico</pre>
    </div>
    
    <div class="row mt-4">
        <div class="col-md-6">
            <div class="producto-card text-center">
                <h4 class="subtitulo">ğŸ”§ Acciones RÃ¡pidas</h4>
                <div class="d-grid gap-2">
                    <a asp-action="CrearUsuarioPrueba" class="btn btn-cafeteria">
                        â• Crear Usuario de Prueba
                    </a>
                    <a asp-controller="Account" asp-action="Login" class="btn btn-outline-secondary">
                        ğŸ”‘ Ir a Login
                    </a>
                    <a asp-controller="Account" asp-action="Registro" class="btn btn-outline-secondary">
                        ğŸ“ Ir a Registro
                    </a>
                </div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="producto-card">
                <h4 class="subtitulo">ğŸ“ Instrucciones</h4>
                <p><strong>Si la tabla Usuarios no existe:</strong></p>
                <ol>
                    <li>Abre PowerShell en la carpeta del proyecto</li>
                    <li>Ejecuta: <code>dotnet ef database update</code></li>
                    <li>Recarga esta pÃ¡gina</li>
                </ol>
                
                <p class="mt-3"><strong>Usuario de prueba:</strong></p>
                <ul class="list-unstyled">
                    <li>ğŸ“§ Email: <code>admin@lacafe.com</code></li>
                    <li>ğŸ”’ Password: <code>123456</code></li>
                </ul>
            </div>
        </div>
    </div>
    
    <div class="text-center mt-4">
        <a asp-controller="Home" asp-action="Index" class="btn btn-secondary">
            â† Volver al Inicio
        </a>
    </div>
</div>
